<%- include('./components/header.ejs') %>

<% if (notes.length === 0) { %>
    <link rel="stylesheet" href="/css/simple-form.css">
    <div class="form">
        <a href="/note/new" class="button new-note">新建</a>
    </div>
<% } else { %>
    <!--
        Example data:
        [{
            "id": "eb7630e6",
            "content": "Test",
            "createdAt": "2024-06-09T14:28:02.000Z",
            "updatedAt": "2024-06-09T14:28:02.000Z"
        }, ...]
    -->

    <div class="note-list">
        <% for (const note of notes) { %>
            <div href="/note/edit/<%= note.id %>" class="note">
                <div class="note-content"><%= note.content.trim() %></div>
                <div class="note-footer">
                    <a href="/note/edit/<%= note.id %>" class="button edit">编辑</a>
                </div>
            </div>
        <% } %>
    </div>

    <style>
        div.note-list {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        div.note {
            padding: 30px;
            margin: 10px;

            background-color: var(--light-yellow);
            border-radius: 25px;

            width: calc(50% - 20px);
            @media (max-width: 768px) {
                width: calc(80% - 20px);
            }

            box-shadow: 0 0 10px var(--light-purple);
        }

        div.note-content {
            white-space: pre-wrap;
            margin: 10px;

            font-size: 13px;
            line-height: 1.3;
        }

        a.button.edit {
            background-color: var(--light-blue);
            color: white;

            font-size: 25px;
            font-family: 'FZFWZhuZiAYuanJWR', sans-serif;
            font-weight: bold;
            padding: 7px 15px;
            border-radius: 10px;
            border: none;

            cursor: pointer;

            transition: box-shadow 0.3s;
        }
        
        a.button:hover {
            box-shadow: 0 0 10px var(--light-blue);
        }

        div.note-content {
            font-size: 25px;
        }

        div.note-footer {
            text-align: right;
        }

        a {
            color: inherit;
            text-decoration: none;
        }
    </style>
<% } %>

<style>
    :root {
        --bg-color: var(--very-light-purple);
    }

    a.new-note {
        --theme-color: var(--pink);
    }
</style>

<%- include('./components/footer.ejs') %>
